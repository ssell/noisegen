function rawToImage(a,b){for(var d=0,c=0;d<b.data.length;d+=4,++c)b.data[d+0]=a[c],b.data[d+1]=a[c],b.data[d+2]=a[c],b.data[d+3]=255}function normalizeData(a){for(var b=Infinity,d=-Infinity,c=a.length;c--;)b>a[c]&&(b=a[c]),d<a[c]&&(d=a[c]);d=1/(d-b);for(c=a.length;c--;)a[c]=(a[c]-b)*d*255}self.onmessage=function(a){var b=a.data;b&&(a=b.raw,b=b.image,normalizeData(a),rawToImage(a,b),postMessage({image:b}))};